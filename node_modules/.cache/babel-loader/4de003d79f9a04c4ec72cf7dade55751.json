{"ast":null,"code":"var _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/wisWebsite/wis/src/pages/LoginPage.js\";\nimport React, { Component } from 'react'; //import './LoginPage.css';\n\nimport UseStore from '../stores/UserStore';\nimport LoginForm from '../components/LoginForm';\nimport InputField from '../components/InputField';\nimport SubmitButton from '../components/SubmitButton';\nimport UserStore from '../stores/UserStore';\n\nclass LoginPage extends Component {\n  async componentDidMount() {\n    try {\n      let res = await fetch('/isLoggedIn', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        }\n      });\n      let result = await res.json();\n\n      if (result && result.success) {\n        UserStore.loading = false;\n        UserStore.isLoggedIn = true;\n        UserStore.username = result.username;\n      } else {\n        UserStore.loadding = false;\n        UserStore.isLoggedIn = false;\n      }\n    } catch (e) {\n      UserStore.loadding = false;\n      UserStore.isLoggedIn = false;\n    }\n  }\n\n  async doLogout() {\n    try {\n      let res = await fetch('/logout', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-type': 'application/json'\n        }\n      });\n      let result = await res.json();\n\n      if (result && result.success) {\n        UserStore.isLoggedIn = false;\n        UserStore.username = '';\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    if (UserStore.loadding) {\n      return React.createElement(\"div\", {\n        className: \"loginPage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"please wait...\"));\n    }\n\n    return React.createElement(\"div\", {\n      className: \"loginPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/wisWebsite/wis/src/pages/LoginPage.js"],"names":["React","Component","UseStore","LoginForm","InputField","SubmitButton","UserStore","LoginPage","componentDidMount","res","fetch","method","headers","result","json","success","loading","isLoggedIn","username","loadding","e","doLogout","console","log","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B,C,CACA;;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;;AAGA,MAAMC,SAAN,SAAwBN,SAAxB,CAAkC;AAE9B,QAAMO,iBAAN,GAA0B;AAEtB,QAAI;AACA,UAAIC,GAAG,GAAG,MAAMC,KAAK,CAAC,aAAD,EAAgB;AACjCC,QAAAA,MAAM,EAAE,MADyB;AAEjCC,QAAAA,OAAO,EAAE;AACL,oBAAU,kBADL;AAEL,0BAAgB;AAFX;AAFwB,OAAhB,CAArB;AAQA,UAAIC,MAAM,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAnB;;AAEA,UAAID,MAAM,IAAIA,MAAM,CAACE,OAArB,EAA8B;AAC1BT,QAAAA,SAAS,CAACU,OAAV,GAAoB,KAApB;AACAV,QAAAA,SAAS,CAACW,UAAV,GAAuB,IAAvB;AACAX,QAAAA,SAAS,CAACY,QAAV,GAAqBL,MAAM,CAACK,QAA5B;AACH,OAJD,MAKK;AACDZ,QAAAA,SAAS,CAACa,QAAV,GAAqB,KAArB;AACAb,QAAAA,SAAS,CAACW,UAAV,GAAuB,KAAvB;AACH;AACJ,KApBD,CAsBA,OAAMG,CAAN,EAAS;AACLd,MAAAA,SAAS,CAACa,QAAV,GAAqB,KAArB;AACAb,MAAAA,SAAS,CAACW,UAAV,GAAuB,KAAvB;AACH;AACJ;;AAED,QAAMI,QAAN,GAAiB;AAEb,QAAI;AACA,UAAIZ,GAAG,GAAG,MAAMC,KAAK,CAAC,SAAD,EAAY;AAC7BC,QAAAA,MAAM,EAAE,MADqB;AAE7BC,QAAAA,OAAO,EAAE;AACL,oBAAU,kBADL;AAEL,0BAAgB;AAFX;AAFoB,OAAZ,CAArB;AAQA,UAAIC,MAAM,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAnB;;AAEA,UAAID,MAAM,IAAIA,MAAM,CAACE,OAArB,EAA8B;AAC1BT,QAAAA,SAAS,CAACW,UAAV,GAAuB,KAAvB;AACAX,QAAAA,SAAS,CAACY,QAAV,GAAqB,EAArB;AACH;AACJ,KAfD,CAiBA,OAAME,CAAN,EAAS;AACLE,MAAAA,OAAO,CAACC,GAAR,CAAYH,CAAZ;AACH;AACJ;;AAEDI,EAAAA,MAAM,GAAE;AAEJ,QAAIlB,SAAS,CAACa,QAAd,EAAwB;AACpB,aACI;AAAK,QAAA,SAAS,EAAG,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAG,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,CADJ;AAKH;;AAGD,WACI;AAAK,MAAA,SAAS,EAAG,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AASH;;AA5E6B;;AA+ElC,eAAeZ,SAAf","sourcesContent":["import React, {Component} from 'react';\n//import './LoginPage.css';\nimport UseStore from '../stores/UserStore';\nimport LoginForm from '../components/LoginForm';\nimport InputField from '../components/InputField';\nimport SubmitButton from '../components/SubmitButton';\nimport UserStore from '../stores/UserStore';\n\n\nclass LoginPage extends Component {\n\n    async componentDidMount() {\n\n        try {\n            let res = await fetch('/isLoggedIn', {\n                method: 'post',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-type': 'application/json'\n                }\n            });\n\n            let result = await res.json();\n\n            if (result && result.success) {\n                UserStore.loading = false;\n                UserStore.isLoggedIn = true;\n                UserStore.username = result.username;\n            }\n            else {\n                UserStore.loadding = false;\n                UserStore.isLoggedIn = false;\n            }\n        }\n\n        catch(e) {\n            UserStore.loadding = false;\n            UserStore.isLoggedIn = false;\n        }\n    }\n\n    async doLogout() {\n\n        try {\n            let res = await fetch('/logout', {\n                method: 'post',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-type': 'application/json'\n                }\n            });\n\n            let result = await res.json();\n\n            if (result && result.success) {\n                UserStore.isLoggedIn = false;\n                UserStore.username = '';\n            }\n        }\n\n        catch(e) {\n            console.log(e)\n        }\n    }\n\n    render(){\n\n        if (UserStore.loadding) {\n            return (\n                <div className = \"loginPage\">\n                    <div className = \"container\">please wait...</div>\n                </div>\n            );\n        }\n\n\n        return (\n            <div className = \"loginPage\">\n\n                \n\n        \n\n            </div>\n        );\n    }\n}\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}