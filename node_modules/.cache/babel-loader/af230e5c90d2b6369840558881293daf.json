{"ast":null,"code":"import _classCallCheck from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Fuse from'fuse.js';import VidComponent from\"./VidComponent\";import'./SearchBar.css';import TextInput from'react-autocomplete-input';import'react-autocomplete-input/dist/bundle.css';import axios from'axios';var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);function Search(props){var _this;_classCallCheck(this,Search);_this=_possibleConstructorReturn(this,_getPrototypeOf(Search).call(this,props));_this.handleSearch=function(e){console.log(e.target.search.value);e.preventDefault();var options={shouldSort:true,threshold:0.5,location:0,distance:100,minMatchCharLength:1,keys:[\"title\"]};var fuse=new Fuse(_this.state.list,options);// \"list\" is the item array\n_this.setState({result:fuse.search(e.target.search.value),keyword:e.target.search.value});};_this.state={list:'',result:undefined,new_list:undefined,search_list:[],keyword:''};return _this;}_createClass(Search,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var url='http://portfolioowen.000webhostapp.com/index.php';axios.get(url).then(function(res){_this2.setState({list:res.data.video});console.log(res.data);}).then(function(){var new_list=_this2.state.list.map(function(a){return{item:a};});var search_list=_this2.state.list.map(function(a){return a.title;});console.log(new_list);console.log(_this2.state.result);_this2.setState({new_list:new_list});_this2.setState({search_list:search_list});});console.log(this.state.search_list);}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"searchContainer\"},React.createElement(\"form\",{onSubmit:this.handleSearch,autoComplete:\"off\"},React.createElement(TextInput,{name:\"search\",placeholder:\"Search...\",trigger:'',options:this.state.search_list,matchAny:true,Component:\"input\"}),React.createElement(\"button\",null)),React.createElement(\"div\",{className:\"videoArea\"},this.state.keyword!==''?React.createElement(VidComponent,{source:this.state.result}):React.createElement(VidComponent,{source:this.state.new_list})));}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/Users/wentai/work space/wis/src/components/SearchBar.js"],"names":["React","Component","Fuse","VidComponent","TextInput","axios","Search","props","handleSearch","e","console","log","target","search","value","preventDefault","options","shouldSort","threshold","location","distance","minMatchCharLength","keys","fuse","state","list","setState","result","keyword","undefined","new_list","search_list","url","get","then","res","data","video","map","a","item","title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Fuse from 'fuse.js';\nimport VidComponent from \"./VidComponent\";\nimport './SearchBar.css';\nimport TextInput from 'react-autocomplete-input';\nimport 'react-autocomplete-input/dist/bundle.css';\nimport axios from 'axios';\n\nclass Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list: '',\n            result: undefined,\n            new_list: undefined,\n            search_list:[],\n            keyword: ''\n        }\n    };\n\n    componentDidMount() {\n        const url = 'http://portfolioowen.000webhostapp.com/index.php';\n        axios.get(url)\n            .then((res)=>{\n                this.setState({list:res.data.video});\n                console.log(res.data);\n            })\n            .then(()=>{\n                const new_list=this.state.list.map(a=>({item:a}));\n                const search_list = this.state.list.map(a=>(a.title));\n                console.log(new_list);\n                console.log(this.state.result);\n                this.setState({new_list:new_list});\n                this.setState({search_list:search_list});\n            });\n        console.log(this.state.search_list);\n    }\n\n\n    handleSearch=(e)=>{\n        console.log(e.target.search.value);\n        e.preventDefault();\n        let options = {\n            shouldSort: true,\n            threshold: 0.5,\n            location: 0,\n            distance: 100,\n            minMatchCharLength: 1,\n            keys: [\n                \"title\"\n            ]\n        };\n        let fuse = new Fuse(this.state.list, options); // \"list\" is the item array\n        this.setState({\n            result: fuse.search(e.target.search.value),\n            keyword: e.target.search.value\n        });\n    };\n\n\n    render() {\n        return (\n            <div className = \"searchContainer\">\n                <form onSubmit={this.handleSearch} autoComplete=\"off\">\n                    {/*<input name='search' type=\"text\" placeholder = \"Search...\"/>*/}\n                    <TextInput name='search' placeholder = \"Search...\" trigger={''} options={this.state.search_list} matchAny={true} Component=\"input\"/>\n                    <button></button>\n                </form>\n                <div className=\"videoArea\">\n                {this.state.keyword !== '' ? <VidComponent source={this.state.result}/> : <VidComponent source={this.state.new_list}/>}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}