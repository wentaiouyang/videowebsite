{"ast":null,"code":"import _classCallCheck from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{BrowserRouter}from'react-router-dom';import NavBar from\"./components/NavBar\";import Routes from\"./Router/Routes\";import{AppContext}from'./context/AppContext';import axios from'axios';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.setAuth=function(){_this.setState({auth:true});};_this.resetAuth=function(){_this.setState({auth:false});// const resetState = false;\nvar formData=new FormData();formData.append('status',false);var session_url='http://localhost:80/react-backend/logout.php';axios.post(session_url,formData).then(function(res){console.log(res.data);}).catch(function(err){return console.log(err);});};_this.setCurrentUser=function(user){_this.setState({currentUser:user});};_this.state={list:'',auth:false,currentUser:''};return _this;}// componentWillMount(){\n//   window.addEventListener('scroll', this.loadMore);\n// }\n// componentWillUnmount(){\n//     window.removeEventListener('scroll', this.loadMore);\n// }\n// loadMore(){\n//     if (window.innerHeight + document.documentElement.scrollTop === document.scrollingElement.scrollHeight) {\n//         // Do load more content here!\n//     }\n// }\n_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var url='https://portfolioowen.000webhostapp.com/react-backend/index.php';axios.get(url).then(function(res){_this2.setState({list:res.data.video});console.log(res.data);}).catch(function(err){return console.log(err);});// const session_url = 'http://localhost:80/react-backend/session_config.php';\n// axios.get(session_url)\n//     .then((res)=>{\n//       this.setState({auth:res.data});\n//       console.log(res.data);\n//     })\n//     .catch((err)=>console.log(err));\n// console.log(this.state.auth);\n}// componentDidUpdate(){\n//\n// }\n},{key:\"render\",value:function render(){return React.createElement(BrowserRouter,null,React.createElement(AppContext.Provider,{value:{auth:this.state.auth,videos:this.state.list,setAuth:this.setAuth,resetAuth:this.resetAuth,currentUser:this.state.currentUser,setCurrentUser:this.setCurrentUser}},React.createElement(\"div\",{className:\"App site\"},React.createElement(NavBar,null),React.createElement(Routes,null))));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/wentai/work space/wis/src/App.js"],"names":["React","Component","BrowserRouter","NavBar","Routes","AppContext","axios","App","props","setAuth","setState","auth","resetAuth","formData","FormData","append","session_url","post","then","res","console","log","data","catch","err","setCurrentUser","user","currentUser","state","list","url","get","video","videos"],"mappings":"6uBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAAQC,aAAR,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,OAASC,UAAT,KAA2B,sBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,G,6DAEJ,aAAYC,KAAZ,CAAmB,qCACjB,qEAAMA,KAAN,GADiB,MAgDnBC,OAhDmB,CAgDT,UAAM,CACd,MAAKC,QAAL,CAAc,CAACC,IAAI,CAAE,IAAP,CAAd,EACD,CAlDkB,OAoDnBC,SApDmB,CAoDP,UAAM,CAChB,MAAKF,QAAL,CAAc,CAACC,IAAI,CAAE,KAAP,CAAd,EACA;AACA,GAAME,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgB,QAAhB,CAAyB,KAAzB,EACA,GAAMC,CAAAA,WAAW,CAAG,8CAApB,CACAV,KAAK,CAACW,IAAN,CAAWD,WAAX,CAAwBH,QAAxB,EAAkCK,IAAlC,CAAuC,SAACC,GAAD,CAAO,CAC5CC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACD,CAFD,EAEGC,KAFH,CAES,SAACC,GAAD,QAAOJ,CAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAAP,EAFT,EAGD,CA7DkB,OA+DnBC,cA/DmB,CA+DF,SAACC,IAAD,CAAU,CACzB,MAAKhB,QAAL,CAAc,CAACiB,WAAW,CAAED,IAAd,CAAd,EACD,CAjEkB,CAEjB,MAAKE,KAAL,CAAa,CACXC,IAAI,CAAC,EADM,CAEXlB,IAAI,CAAE,KAFK,CAGXgB,WAAW,CAAE,EAHF,CAAb,CAFiB,aAOlB,CAID;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;6EAEoB,iBAClB,GAAMG,CAAAA,GAAG,CAAG,iEAAZ,CACAxB,KAAK,CAACyB,GAAN,CAAUD,GAAV,EACKZ,IADL,CACU,SAACC,GAAD,CAAO,CACT,MAAI,CAACT,QAAL,CAAc,CAACmB,IAAI,CAACV,GAAG,CAACG,IAAJ,CAASU,KAAf,CAAd,EACAZ,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACH,CAJL,EAKKC,KALL,CAKW,SAACC,GAAD,QAAOJ,CAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAAP,EALX,EAMI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEL,CAED;AACA;AACA;uCAqBQ,CACN,MACE,qBAAC,aAAD,MACE,oBAAC,UAAD,CAAY,QAAZ,EACA,KAAK,CACH,CACEb,IAAI,CAAE,KAAKiB,KAAL,CAAWjB,IADnB,CAEEsB,MAAM,CAAE,KAAKL,KAAL,CAAWC,IAFrB,CAGEpB,OAAO,CAAE,KAAKA,OAHhB,CAIEG,SAAS,CAAE,KAAKA,SAJlB,CAKEe,WAAW,CAAE,KAAKC,KAAL,CAAWD,WAL1B,CAMEF,cAAc,CAAE,KAAKA,cANvB,CAFF,EAWI,2BAAK,SAAS,CAAC,UAAf,EACE,oBAAC,MAAD,MADF,CAEE,oBAAC,MAAD,MAFF,CAXJ,CADF,CADF,CAmBG,C,iBAzFWxB,S,EA8FlB,cAAeM,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport {BrowserRouter} from 'react-router-dom';\nimport NavBar from \"./components/NavBar\";\nimport Routes from \"./Router/Routes\";\nimport { AppContext } from './context/AppContext';\nimport axios from 'axios';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      list:'',\n      auth: false,\n      currentUser: ''\n    }\n  }\n\n\n\n  // componentWillMount(){\n  //   window.addEventListener('scroll', this.loadMore);\n  // }\n  \n  // componentWillUnmount(){\n  //     window.removeEventListener('scroll', this.loadMore);\n  // }\n  \n  // loadMore(){\n  //     if (window.innerHeight + document.documentElement.scrollTop === document.scrollingElement.scrollHeight) {\n  //         // Do load more content here!\n  //     }\n  // }\n\n  componentDidMount() {\n    const url = 'https://portfolioowen.000webhostapp.com/react-backend/index.php';\n    axios.get(url)\n        .then((res)=>{\n            this.setState({list:res.data.video});\n            console.log(res.data);\n        })\n        .catch((err)=>console.log(err));\n        // const session_url = 'http://localhost:80/react-backend/session_config.php';\n        // axios.get(session_url)\n        //     .then((res)=>{\n        //       this.setState({auth:res.data});\n        //       console.log(res.data);\n        //     })\n        //     .catch((err)=>console.log(err));\n        // console.log(this.state.auth);\n\n  }\n\n  // componentDidUpdate(){\n  //\n  // }\n\n  setAuth = () => {\n    this.setState({auth: true})\n  };\n\n  resetAuth = () => {\n    this.setState({auth: false});\n    // const resetState = false;\n    const formData = new FormData;\n    formData.append('status',false)\n    const session_url = 'http://localhost:80/react-backend/logout.php';\n    axios.post(session_url, formData).then((res)=>{\n      console.log(res.data)\n    }).catch((err)=>console.log(err));\n  };\n\n  setCurrentUser = (user) => {\n    this.setState({currentUser: user})\n  }\n\n  render(){\n    return (\n      <BrowserRouter>\n        <AppContext.Provider  \n        value = {\n          {\n            auth: this.state.auth,\n            videos: this.state.list,\n            setAuth: this.setAuth,\n            resetAuth: this.resetAuth,\n            currentUser: this.state.currentUser,\n            setCurrentUser: this.setCurrentUser\n          }\n          }>\n            <div className=\"App site\">\n              <NavBar/>\n              <Routes/>\n            </div>\n        </AppContext.Provider>\n      </BrowserRouter>      \n    );}\n}\n  \n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}