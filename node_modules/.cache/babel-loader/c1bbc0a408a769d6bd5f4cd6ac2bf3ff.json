{"ast":null,"code":"import _defineProperty from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import InputField from'./InputField';import SubmitButton from'./SubmitButton';import'./SignupForm.css';import logo from'../images/logo.png';import axios from'axios';var SignupForm=/*#__PURE__*/function(_Component){_inherits(SignupForm,_Component);function SignupForm(props){var _this;_classCallCheck(this,SignupForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(SignupForm).call(this,props));_this.state={username:'',password:'',confirmpass:'',buttonDisabled:false};_this.doSignup=_this.doSignup.bind(_assertThisInitialized(_this));return _this;}_createClass(SignupForm,[{key:\"setInputValue\",value:function setInputValue(propperty,val){val=val.trim();if(val.length>40){return;}this.setState(_defineProperty({},propperty,val));}},{key:\"resetForm\",value:function resetForm(){this.setState({username:'',password:'',confirmpass:'',buttonDisabled:false});}},{key:\"doSignup\",value:function doSignup(){var _this2=this;if(!this.state.username){return;}if(!this.state.password){return;}if(!this.state.confirmpass){return;}this.setState({buttonDisabled:true});try{var _this$state=this.state,username=_this$state.username,password=_this$state.password,confirmpass=_this$state.confirmpass;var formData=new FormData();formData.append(\"username\",username);formData.append(\"password\",password);if(confirmpass===password){var url='http://localhost:80/react-backend/signup.php';axios.post(url,formData).then(function(res){if(res.data==='success'){alert('Signup succeed');_this2.resetForm();}}).catch(function(err){return console.log(err);});}else{alert('please confirm your password ');}}catch(e){console.log(e);this.resetForm();}}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",{className:\"signupForm\"},React.createElement(\"div\",{className:\"register_title\"},React.createElement(\"img\",{className:\"title_logo\",src:logo,alt:\"logo\"}),React.createElement(\"p\",null,\"Welcome to join ^ ^\"),React.createElement(\"p\",null,\"Create new account here\")),React.createElement(\"div\",{className:\"input_container\"},React.createElement(\"label\",null,\"Username: \"),React.createElement(InputField,{type:\"text\",placeholder:\"Username\",value:this.state.username?this.state.username:'',onChange:function onChange(val){return _this3.setInputValue('username',val);}})),React.createElement(\"div\",{className:\"input_container\"},React.createElement(\"label\",null,\"\\xA0Password: \"),React.createElement(InputField,{type:\"password\",placeholder:\"Password\",value:this.state.password?this.state.password:'',onChange:function onChange(val){return _this3.setInputValue('password',val);}})),React.createElement(\"div\",{className:\"input_container\"},React.createElement(\"label\",null,\"\\xA0\\xA0Confirm:\\xA0\\xA0\"),React.createElement(InputField,{type:\"password\",placeholder:\"Re-enter Password\",value:this.state.confirmpass?this.state.confirmpass:'',onChange:function onChange(val){return _this3.setInputValue('confirmpass',val);}})),React.createElement(\"div\",{className:\"btn_row\"},React.createElement(SubmitButton,{text:\"Submit\",onClick:this.doSignup}),React.createElement(SubmitButton,{text:\"Cancel\",onClick:this.props.hideSignup})));}}]);return SignupForm;}(Component);export default SignupForm;","map":{"version":3,"sources":["/Users/wentai/work space/wis/src/components/SignupForm.js"],"names":["React","Component","InputField","SubmitButton","logo","axios","SignupForm","props","state","username","password","confirmpass","buttonDisabled","doSignup","bind","propperty","val","trim","length","setState","formData","FormData","append","url","post","then","res","data","alert","resetForm","catch","err","console","log","e","setInputValue","hideSignup"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport InputField from './InputField';\nimport SubmitButton from './SubmitButton';\nimport './SignupForm.css';\nimport logo from '../images/logo.png';\nimport axios from 'axios';\n\nclass SignupForm extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            password: '',\n            confirmpass:'',\n            buttonDisabled: false,\n        }\n        this.doSignup=this.doSignup.bind(this);\n    }\n\n    setInputValue(propperty,val){\n        val = val.trim();\n        if (val.length > 40){\n            return;\n        }\n        this.setState({\n            [propperty]:val\n        })\n    }\n\n    resetForm() {\n        this.setState({\n            username:'',\n            password:'',\n            confirmpass:'',\n            buttonDisabled: false\n        })\n    }\n\n    doSignup() {\n\n        if (!this.state.username){\n            return;\n        }\n        if (!this.state.password){\n            return;\n        }\n        if (!this.state.confirmpass){\n            return;\n        }\n\n        this.setState({\n            buttonDisabled: true\n        })\n\n        try{\n            const {username,password,confirmpass} = this.state;\n            let formData = new FormData;\n            formData.append(\"username\", username);\n            formData.append(\"password\", password);\n            if (confirmpass===password){\n                const url = 'http://localhost:80/react-backend/signup.php';\n                axios.post(url,formData).then(res =>{\n                    if(res.data==='success'){\n                        alert('Signup succeed');\n                        this.resetForm();\n                    }\n                }).catch(err => console.log(err));\n                \n            }else{\n                alert('please confirm your password ')\n            }\n        }\n        catch (e) {\n            console.log(e);\n            this.resetForm();\n        }\n    }\n\nrender() {\n    return (\n        <div className = \"signupForm\">\n            <div className = \"register_title\">\n                <img className=\"title_logo\" src={logo} alt=\"logo\"/>\n                <p>Welcome to join ^ ^</p>\n                <p>Create new account here</p>\n            </div>\n            <div className = \"input_container\">\n                <label>Username: </label>\n                <InputField \n                    type = 'text'\n                    placeholder = 'Username'\n                    value={this.state.username ? this.state.username:''}\n                    onChange={(val)=>this.setInputValue('username',val)}\n                />\n            </div>\n\n            <div className = \"input_container\">\n                <label>&nbsp;Password: </label>\n                <InputField \n                    type = 'password'\n                    placeholder = 'Password'\n                    value={this.state.password ? this.state.password:''}\n                    onChange={(val)=>this.setInputValue('password',val)}\n                />\n            </div>\n\n            <div className = \"input_container\">\n                <label>&nbsp;&nbsp;Confirm:&nbsp;&nbsp;</label>\n                <InputField \n                    type = 'password'\n                    placeholder = 'Re-enter Password'\n                    value={this.state.confirmpass ? this.state.confirmpass:''}\n                    onChange={(val)=>this.setInputValue('confirmpass',val)}\n                />\n            </div>\n\n            <div className = \"btn_row\">\n                <SubmitButton \n                    text = 'Submit'\n                    onClick = {this.doSignup}\n                />\n                <SubmitButton \n                    text = 'Cancel'\n                    onClick = {this.props.hideSignup}\n                />\n            </div>\n        </div>\n\n    );\n}\n}\n\nexport default SignupForm;\n"]},"metadata":{},"sourceType":"module"}