{"ast":null,"code":"var _jsxFileName = \"/Users/violetwang/iCloud Drive (Archive)/Documents/Workspace/React/wis/src/components/SignupForm.js\";\nimport React, { Component } from 'react';\nimport InputField from './InputField';\nimport SubmitButton from './SubmitButton';\nimport './SignupForm.css';\nimport logo from '../images/logo.png';\nimport axios from 'axios';\n\nclass SignupForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      confirmpass: '',\n      buttonDisabled: false\n    };\n    this.doSignup = this.doSignup.bind(this);\n  }\n\n  setInputValue(propperty, val) {\n    val = val.trim();\n\n    if (val.length > 40) {\n      return;\n    }\n\n    this.setState({\n      [propperty]: val\n    });\n  }\n\n  resetForm() {\n    this.setState({\n      username: '',\n      password: '',\n      confirmpass: '',\n      buttonDisabled: false\n    });\n  }\n\n  doSignup() {\n    if (!this.state.username) {\n      return;\n    }\n\n    if (!this.state.password) {\n      return;\n    }\n\n    if (!this.state.confirmpass) {\n      return;\n    }\n\n    this.setState({\n      buttonDisabled: true\n    });\n\n    try {\n      const {\n        username,\n        password,\n        confirmpass\n      } = this.state;\n      let formData = new FormData();\n      formData.append(\"username\", username);\n      formData.append(\"password\", password);\n\n      if (confirmpass === password) {\n        const url = 'http://localhost:80/react-backend/signup.php';\n        axios.post(url, formData).then(res => {\n          if (res.data === 'success') {\n            alert('Signup succeed');\n            this.resetForm();\n          }\n        }).catch(err => console.log(err));\n      } else {\n        alert('please confirm your password ');\n      }\n    } catch (e) {\n      console.log(e);\n      this.resetForm();\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"signupForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"register_title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"title_logo\",\n      src: logo,\n      alt: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Welcome to join ^ ^\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Create new account here\")), React.createElement(\"div\", {\n      className: \"input_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Username: \"), React.createElement(InputField, {\n      type: \"text\",\n      placeholder: \"Username\",\n      value: this.state.username ? this.state.username : '',\n      onChange: val => this.setInputValue('username', val),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"\\xA0Password: \"), React.createElement(InputField, {\n      type: \"password\",\n      placeholder: \"Password\",\n      value: this.state.password ? this.state.password : '',\n      onChange: val => this.setInputValue('password', val),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"\\xA0\\xA0Confirm:\\xA0\\xA0\"), React.createElement(InputField, {\n      type: \"password\",\n      placeholder: \"Re-enter Password\",\n      value: this.state.confirmpass ? this.state.confirmpass : '',\n      onChange: val => this.setInputValue('confirmpass', val),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"btn_row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(SubmitButton, {\n      text: \"Submit\",\n      onClick: this.doSignup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(SubmitButton, {\n      text: \"Cancel\",\n      onClick: this.props.hideSignup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default SignupForm;","map":{"version":3,"sources":["/Users/violetwang/iCloud Drive (Archive)/Documents/Workspace/React/wis/src/components/SignupForm.js"],"names":["React","Component","InputField","SubmitButton","logo","axios","SignupForm","constructor","props","state","username","password","confirmpass","buttonDisabled","doSignup","bind","setInputValue","propperty","val","trim","length","setState","resetForm","formData","FormData","append","url","post","then","res","data","alert","catch","err","console","log","e","render","hideSignup"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport InputField from './InputField';\nimport SubmitButton from './SubmitButton';\nimport './SignupForm.css';\nimport logo from '../images/logo.png';\nimport axios from 'axios';\n\nclass SignupForm extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            password: '',\n            confirmpass:'',\n            buttonDisabled: false,\n        }\n        this.doSignup=this.doSignup.bind(this);\n    }\n\n    setInputValue(propperty,val){\n        val = val.trim();\n        if (val.length > 40){\n            return;\n        }\n        this.setState({\n            [propperty]:val\n        })\n    }\n\n    resetForm() {\n        this.setState({\n            username:'',\n            password:'',\n            confirmpass:'',\n            buttonDisabled: false\n        })\n    }\n\n    doSignup() {\n\n        if (!this.state.username){\n            return;\n        }\n        if (!this.state.password){\n            return;\n        }\n        if (!this.state.confirmpass){\n            return;\n        }\n\n        this.setState({\n            buttonDisabled: true\n        })\n\n        try{\n            const {username,password,confirmpass} = this.state;\n            let formData = new FormData;\n            formData.append(\"username\", username);\n            formData.append(\"password\", password);\n            if (confirmpass===password){\n                const url = 'http://localhost:80/react-backend/signup.php';\n                axios.post(url,formData).then(res =>{\n                    if(res.data==='success'){\n                        alert('Signup succeed');\n                        this.resetForm();\n                    }\n                }).catch(err => console.log(err));\n                \n            }else{\n                alert('please confirm your password ')\n            }\n        }\n        catch (e) {\n            console.log(e);\n            this.resetForm();\n        }\n    }\n\nrender() {\n    return (\n        <div className = \"signupForm\">\n            <div className = \"register_title\">\n                <img className=\"title_logo\" src={logo} alt=\"logo\"/>\n                <p>Welcome to join ^ ^</p>\n                <p>Create new account here</p>\n            </div>\n            <div className = \"input_container\">\n                <label>Username: </label>\n                <InputField \n                    type = 'text'\n                    placeholder = 'Username'\n                    value={this.state.username ? this.state.username:''}\n                    onChange={(val)=>this.setInputValue('username',val)}\n                />\n            </div>\n\n            <div className = \"input_container\">\n                <label>&nbsp;Password: </label>\n                <InputField \n                    type = 'password'\n                    placeholder = 'Password'\n                    value={this.state.password ? this.state.password:''}\n                    onChange={(val)=>this.setInputValue('password',val)}\n                />\n            </div>\n\n            <div className = \"input_container\">\n                <label>&nbsp;&nbsp;Confirm:&nbsp;&nbsp;</label>\n                <InputField \n                    type = 'password'\n                    placeholder = 'Re-enter Password'\n                    value={this.state.confirmpass ? this.state.confirmpass:''}\n                    onChange={(val)=>this.setInputValue('confirmpass',val)}\n                />\n            </div>\n\n            <div className = \"btn_row\">\n                <SubmitButton \n                    text = 'Submit'\n                    onClick = {this.doSignup}\n                />\n                <SubmitButton \n                    text = 'Cancel'\n                    onClick = {this.props.hideSignup}\n                />\n            </div>\n        </div>\n\n    );\n}\n}\n\nexport default SignupForm;\n"]},"metadata":{},"sourceType":"module"}