{"ast":null,"code":"import _classCallCheck from\"/Users/violetwang/iCloud Drive (Archive)/Documents/Workspace/React/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/violetwang/iCloud Drive (Archive)/Documents/Workspace/React/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/violetwang/iCloud Drive (Archive)/Documents/Workspace/React/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/violetwang/iCloud Drive (Archive)/Documents/Workspace/React/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/violetwang/iCloud Drive (Archive)/Documents/Workspace/React/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Fuse from'fuse.js';import VidComponent from\"./VidComponent\";import'./SearchBar.css';import axios from'axios';var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);function Search(props){var _this;_classCallCheck(this,Search);_this=_possibleConstructorReturn(this,_getPrototypeOf(Search).call(this,props));_this.handleSearch=function(e){console.log(e.target.search.value);e.preventDefault();var options={shouldSort:true,threshold:0.5,location:0,distance:100,minMatchCharLength:1,keys:[\"title\"]};var fuse=new Fuse(_this.state.list,options);// \"list\" is the item array\n_this.setState({result:fuse.search(e.target.search.value),keyword:e.target.search.value});};_this.state={list:'',result:undefined,new_list:undefined,keyword:''};return _this;}_createClass(Search,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var url='http://localhost:80/react-backend';axios.get(url).then(function(res){_this2.setState({list:res.data.video});console.log(res.data);}).then(function(){var new_list=_this2.state.list.map(function(a){return{item:a};});console.log(new_list);console.log(_this2.state.result);_this2.setState({new_list:new_list});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"searchContainer\"},React.createElement(\"form\",{onSubmit:this.handleSearch},React.createElement(\"input\",{name:\"search\",type:\"text\",placeholder:\"Search...\"}),React.createElement(\"button\",null)),React.createElement(\"div\",{className:\"videoArea\"},this.state.keyword!==''?React.createElement(VidComponent,{source:this.state.result}):React.createElement(VidComponent,{source:this.state.new_list})));}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/Users/violetwang/iCloud Drive (Archive)/Documents/Workspace/React/wis/src/components/SearchBar.js"],"names":["React","Component","Fuse","VidComponent","axios","Search","props","handleSearch","e","console","log","target","search","value","preventDefault","options","shouldSort","threshold","location","distance","minMatchCharLength","keys","fuse","state","list","setState","result","keyword","undefined","new_list","url","get","then","res","data","video","map","a","item","catch","err"],"mappings":"+7BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,IAAP,KAAiB,SAAjB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAO,iBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,M,gEACF,gBAAYC,KAAZ,CAAmB,wCACf,wEAAMA,KAAN,GADe,MA6BnBC,YA7BmB,CA6BN,SAACC,CAAD,CAAK,CACdC,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,MAAT,CAAgBC,KAA5B,EACAL,CAAC,CAACM,cAAF,GACA,GAAIC,CAAAA,OAAO,CAAG,CACVC,UAAU,CAAE,IADF,CAEVC,SAAS,CAAE,GAFD,CAGVC,QAAQ,CAAE,CAHA,CAIVC,QAAQ,CAAE,GAJA,CAKVC,kBAAkB,CAAE,CALV,CAMVC,IAAI,CAAE,CACF,OADE,CANI,CAAd,CAUA,GAAIC,CAAAA,IAAI,CAAG,GAAIpB,CAAAA,IAAJ,CAAS,MAAKqB,KAAL,CAAWC,IAApB,CAA0BT,OAA1B,CAAX,CAA+C;AAC/C,MAAKU,QAAL,CAAc,CACVC,MAAM,CAAEJ,IAAI,CAACV,MAAL,CAAYJ,CAAC,CAACG,MAAF,CAASC,MAAT,CAAgBC,KAA5B,CADE,CAEVc,OAAO,CAAEnB,CAAC,CAACG,MAAF,CAASC,MAAT,CAAgBC,KAFf,CAAd,EAIH,CA/CkB,CAEf,MAAKU,KAAL,CAAa,CACTC,IAAI,CAAE,EADG,CAETE,MAAM,CAAEE,SAFC,CAGTC,QAAQ,CAAED,SAHD,CAITD,OAAO,CAAE,EAJA,CAAb,CAFe,aAQlB,C,gFAEmB,iBAChB,GAAMG,CAAAA,GAAG,CAAG,mCAAZ,CACA1B,KAAK,CAAC2B,GAAN,CAAUD,GAAV,EACKE,IADL,CACU,SAACC,GAAD,CAAO,CACT,MAAI,CAACR,QAAL,CAAc,CAACD,IAAI,CAACS,GAAG,CAACC,IAAJ,CAASC,KAAf,CAAd,EACA1B,OAAO,CAACC,GAAR,CAAYuB,GAAG,CAACC,IAAhB,EACH,CAJL,EAKKF,IALL,CAKU,UAAI,CACN,GAAMH,CAAAA,QAAQ,CAAC,MAAI,CAACN,KAAL,CAAWC,IAAX,CAAgBY,GAAhB,CAAoB,SAAAC,CAAC,QAAG,CAACC,IAAI,CAACD,CAAN,CAAH,EAArB,CAAf,CACA5B,OAAO,CAACC,GAAR,CAAYmB,QAAZ,EACApB,OAAO,CAACC,GAAR,CAAY,MAAI,CAACa,KAAL,CAAWG,MAAvB,EACA,MAAI,CAACD,QAAL,CAAc,CAACI,QAAQ,CAACA,QAAV,CAAd,EACH,CAVL,EAWKU,KAXL,CAWW,SAACC,GAAD,QAAO/B,CAAAA,OAAO,CAACC,GAAR,CAAY8B,GAAZ,CAAP,EAXX,EAcH,C,uCAwBQ,CACL,MACI,4BAAK,SAAS,CAAG,iBAAjB,EACI,4BAAM,QAAQ,CAAE,KAAKjC,YAArB,EAEI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,MAA1B,CAAiC,WAAW,CAAG,WAA/C,EAFJ,CAGI,kCAHJ,CADJ,CAMI,2BAAK,SAAS,CAAC,WAAf,EACC,KAAKgB,KAAL,CAAWI,OAAX,GAAuB,EAAvB,CAA4B,oBAAC,YAAD,EAAc,MAAM,CAAE,KAAKJ,KAAL,CAAWG,MAAjC,EAA5B,CAAyE,oBAAC,YAAD,EAAc,MAAM,CAAE,KAAKH,KAAL,CAAWM,QAAjC,EAD1E,CANJ,CADJ,CAYH,C,oBAhEgB5B,S,EAmErB,cAAeI,CAAAA,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport Fuse from 'fuse.js';\nimport VidComponent from \"./VidComponent\";\nimport './SearchBar.css';\nimport axios from 'axios';\n\nclass Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list: '',\n            result: undefined,\n            new_list: undefined,\n            keyword: ''\n        }\n    };\n\n    componentDidMount() {\n        const url = 'http://localhost:80/react-backend';\n        axios.get(url)\n            .then((res)=>{\n                this.setState({list:res.data.video});\n                console.log(res.data);\n            })\n            .then(()=>{\n                const new_list=this.state.list.map(a=>({item:a}));\n                console.log(new_list);\n                console.log(this.state.result);\n                this.setState({new_list:new_list})\n            })\n            .catch((err)=>console.log(err));\n\n\n    }\n\n\n    handleSearch=(e)=>{\n        console.log(e.target.search.value);\n        e.preventDefault();\n        let options = {\n            shouldSort: true,\n            threshold: 0.5,\n            location: 0,\n            distance: 100,\n            minMatchCharLength: 1,\n            keys: [\n                \"title\"\n            ]\n        };\n        let fuse = new Fuse(this.state.list, options); // \"list\" is the item array\n        this.setState({\n            result: fuse.search(e.target.search.value),\n            keyword: e.target.search.value\n        });\n    };\n\n\n    render() {\n        return (\n            <div className = \"searchContainer\">\n                <form onSubmit={this.handleSearch}>\n                    {/* <input type = \"file\"/> */}\n                    <input name='search' type=\"text\" placeholder = \"Search...\"/>\n                    <button></button>\n                </form>\n                <div className=\"videoArea\">\n                {this.state.keyword !== '' ? <VidComponent source={this.state.result}/> : <VidComponent source={this.state.new_list}/>}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}