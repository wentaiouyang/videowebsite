{"ast":null,"code":"import _slicedToArray from\"/Users/wentai/work space/wis/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useContext,useEffect,useState}from'react';import'./CommentInput.css';import{AppContext}from\"../context/AppContext\";function CommentInput(props){var _useState=useState({username:undefined,content:''}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var user=useContext(AppContext).currentUser;// useEffect(()=>{\n//     setState({username:user})\n// },[]);\n//   handleUsernameChange (event) {\n//     this.setState({\n//       username: event.target.value\n//     })\n//   }\nvar handleContentChange=function handleContentChange(event){setState({username:user,content:event.target.value});};var handleSubmit=function handleSubmit(){if(props.onSubmit){props.onSubmit({username:state.username,content:state.content});}console.log(state.username);setState({content:''});};return React.createElement(\"div\",{className:\"commentInput\"},React.createElement(\"div\",{className:\"comment-field\"},React.createElement(\"span\",{className:\"comment-field-name\"},\"Add Public Comments\\uFF1A\"),React.createElement(\"div\",{className:\"comment-field-input\"},React.createElement(\"textarea\",{placeholder:\"Please leave your own comments here :)\",value:state.content,onChange:handleContentChange}))),React.createElement(\"div\",{className:\"comment-field-button\"},React.createElement(\"button\",{onClick:handleSubmit},\"POST\")));}export default CommentInput;","map":{"version":3,"sources":["/Users/wentai/work space/wis/src/components/CommentInput.js"],"names":["React","Component","useContext","useEffect","useState","AppContext","CommentInput","props","username","undefined","content","state","setState","user","currentUser","handleContentChange","event","target","value","handleSubmit","onSubmit","console","log"],"mappings":"mJAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,UAA1B,CAAsCC,SAAtC,CAAiDC,QAAjD,KAAgE,OAAhE,CACA,MAAO,oBAAP,CACA,OAAQC,UAAR,KAAyB,uBAAzB,CAEA,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,eACCH,QAAQ,CAC9B,CACII,QAAQ,CAACC,SADb,CAEIC,OAAO,CAAE,EAFb,CAD8B,CADT,wCAClBC,KADkB,eACXC,QADW,eAQzB,GAAMC,CAAAA,IAAI,CAAGX,UAAU,CAACG,UAAD,CAAV,CAAuBS,WAApC,CAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,KAAD,CAAW,CACnCJ,QAAQ,CAAC,CACLJ,QAAQ,CAAEK,IADL,CAELH,OAAO,CAAEM,KAAK,CAACC,MAAN,CAAaC,KAFjB,CAAD,CAAR,CAIH,CALD,CAOA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,GAAIZ,KAAK,CAACa,QAAV,CAAoB,CAChBb,KAAK,CAACa,QAAN,CAAe,CACXZ,QAAQ,CAAEG,KAAK,CAACH,QADL,CAEXE,OAAO,CAAEC,KAAK,CAACD,OAFJ,CAAf,EAIH,CACDW,OAAO,CAACC,GAAR,CAAYX,KAAK,CAACH,QAAlB,EACAI,QAAQ,CAAC,CAACF,OAAO,CAAE,EAAV,CAAD,CAAR,CACH,CATD,CAYA,MACI,4BAAK,SAAS,CAAC,cAAf,EACI,2BAAK,SAAS,CAAC,eAAf,EACI,4BAAM,SAAS,CAAC,oBAAhB,8BADJ,CAEI,2BAAK,SAAS,CAAC,qBAAf,EACQ,gCACI,WAAW,CAAC,wCADhB,CAEI,KAAK,CAAEC,KAAK,CAACD,OAFjB,CAGI,QAAQ,CAAEK,mBAHd,EADR,CAFJ,CADJ,CAWI,2BAAK,SAAS,CAAC,sBAAf,EACI,8BAAQ,OAAO,CAAEI,YAAjB,SADJ,CAXJ,CADJ,CAmBH,CAID,cAAeb,CAAAA,YAAf","sourcesContent":["import React, {Component, useContext, useEffect, useState} from 'react';\nimport './CommentInput.css';\nimport {AppContext} from \"../context/AppContext\";\n\nfunction CommentInput(props) {\n    const [state, setState] = useState(\n        {\n            username:undefined,\n            content: ''\n        }\n    );\n\n    const user = useContext(AppContext).currentUser;\n\n    // useEffect(()=>{\n    //     setState({username:user})\n    // },[]);\n\n    //   handleUsernameChange (event) {\n    //     this.setState({\n    //       username: event.target.value\n    //     })\n    //   }\n\n    const handleContentChange = (event) => {\n        setState({\n            username: user,\n            content: event.target.value\n        })\n    };\n\n    const handleSubmit = () => {\n        if (props.onSubmit) {\n            props.onSubmit({\n                username: state.username,\n                content: state.content\n            })\n        }\n        console.log(state.username);\n        setState({content: ''})\n    };\n\n\n    return (\n        <div className=\"commentInput\">\n            <div className='comment-field'>\n                <span className='comment-field-name'>Add Public Commentsï¼š</span>\n                <div className='comment-field-input'>\n                        <textarea\n                            placeholder=\"Please leave your own comments here :)\"\n                            value={state.content}\n                            onChange={handleContentChange}\n                        />\n                </div>\n            </div>\n            <div className='comment-field-button'>\n                <button onClick={handleSubmit}>\n                    POST\n                </button>\n            </div>\n        </div>\n    );\n}\n\n\n\nexport default CommentInput;"]},"metadata":{},"sourceType":"module"}