{"ast":null,"code":"var _jsxFileName = \"/Users/violetwang/iCloud Drive (Archive)/Documents/Workspace/React/wis/src/components/SearchBar.js\";\nimport React, { Component } from 'react';\nimport Fuse from 'fuse.js';\nimport VidComponent from \"./VidComponent\";\nimport './SearchBar.css';\nimport axios from 'axios';\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSearch = e => {\n      console.log(e.target.search.value);\n      e.preventDefault();\n      let options = {\n        shouldSort: true,\n        threshold: 0.5,\n        location: 0,\n        distance: 100,\n        minMatchCharLength: 1,\n        keys: [\"title\"]\n      };\n      let fuse = new Fuse(this.state.list, options); // \"list\" is the item array\n\n      this.setState({\n        result: fuse.search(e.target.search.value),\n        keyword: e.target.search.value\n      });\n    };\n\n    this.state = {\n      list: '',\n      result: undefined,\n      new_list: undefined,\n      keyword: ''\n    };\n  }\n\n  componentDidMount() {\n    const url = 'http://localhost:80/react-backend';\n    axios.get(url).then(res => {\n      this.setState({\n        list: res.data.video\n      });\n      console.log(res.data);\n    }).then(() => {\n      const new_list = this.state.list.map(a => ({\n        item: a\n      }));\n      console.log(new_list);\n      console.log(this.state.result);\n      this.setState({\n        new_list: new_list\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"searchContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"search\",\n      type: \"text\",\n      placeholder: \"Search...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"videoArea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, this.state.keyword !== '' ? React.createElement(VidComponent, {\n      source: this.state.result,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }) : React.createElement(VidComponent, {\n      source: this.state.new_list,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/violetwang/iCloud Drive (Archive)/Documents/Workspace/React/wis/src/components/SearchBar.js"],"names":["React","Component","Fuse","VidComponent","axios","Search","constructor","props","handleSearch","e","console","log","target","search","value","preventDefault","options","shouldSort","threshold","location","distance","minMatchCharLength","keys","fuse","state","list","setState","result","keyword","undefined","new_list","componentDidMount","url","get","then","res","data","video","map","a","item","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Fuse from 'fuse.js';\nimport VidComponent from \"./VidComponent\";\nimport './SearchBar.css';\nimport axios from 'axios';\n\nclass Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            list: '',\n            result: undefined,\n            new_list: undefined,\n            keyword: ''\n        }\n    };\n\n    componentDidMount() {\n        const url = 'http://localhost:80/react-backend';\n        axios.get(url)\n            .then((res)=>{\n                this.setState({list:res.data.video});\n                console.log(res.data);\n            })\n            .then(()=>{\n                const new_list=this.state.list.map(a=>({item:a}));\n                console.log(new_list);\n                console.log(this.state.result);\n                this.setState({new_list:new_list})\n            })\n    }\n\n\n    handleSearch=(e)=>{\n        console.log(e.target.search.value);\n        e.preventDefault();\n        let options = {\n            shouldSort: true,\n            threshold: 0.5,\n            location: 0,\n            distance: 100,\n            minMatchCharLength: 1,\n            keys: [\n                \"title\"\n            ]\n        };\n        let fuse = new Fuse(this.state.list, options); // \"list\" is the item array\n        this.setState({\n            result: fuse.search(e.target.search.value),\n            keyword: e.target.search.value\n        });\n    };\n\n\n    render() {\n        return (\n            <div className = \"searchContainer\">\n                <form onSubmit={this.handleSearch}>\n                    <input name='search' type=\"text\" placeholder = \"Search...\"/>\n                    <button></button>\n                </form>\n                <div className=\"videoArea\">\n                {this.state.keyword !== '' ? <VidComponent source={this.state.result}/> : <VidComponent source={this.state.new_list}/>}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}