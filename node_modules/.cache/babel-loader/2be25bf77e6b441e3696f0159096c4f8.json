{"ast":null,"code":"var _jsxFileName = \"/Users/violetwang/iCloud Drive (Archive)/Documents/Workspace/React/wis/src/pages/MyProfilePage.js\";\nimport React, { Component, useState, useEffect, useContext, useReducer } from 'react';\nimport axios from 'axios';\nimport { AppContext } from '../context/AppContext';\nimport VidComponent from '../components/VidComponent';\n\nfunction MyProfilePage() {\n  const [state, setState] = useState({\n    myVids: undefined,\n    new_myVids: undefined\n  });\n  const {\n    currentUser\n  } = useContext(AppContext);\n\n  function Example() {\n    useEffect(() => console.log('mounted'), []);\n    return null;\n  }\n\n  useEffect(() => {\n    const url = 'http://localhost:80/react-backend/profile.php';\n    const formData = new FormData();\n    formData.append('uploader', currentUser);\n    axios.post(url, formData).then(res => {\n      console.log(res);\n      setState({\n        myVids: res.data.video\n      });\n    }).then(() => {\n      const new_myVids = state.myVids.map(a => ({\n        item: a\n      }));\n      console.log(new_myVids);\n      console.log(state.myVids);\n      setState({\n        new_myVids: new_myVids\n      });\n    }).catch(err => console.log(err));\n    console.log(state.myVids);\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"hahahah\"), React.createElement(VidComponent, {\n    source: state.new_myVids,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }));\n}\n\nexport default MyProfilePage;","map":{"version":3,"sources":["/Users/violetwang/iCloud Drive (Archive)/Documents/Workspace/React/wis/src/pages/MyProfilePage.js"],"names":["React","Component","useState","useEffect","useContext","useReducer","axios","AppContext","VidComponent","MyProfilePage","state","setState","myVids","undefined","new_myVids","currentUser","Example","console","log","url","formData","FormData","append","post","then","res","data","video","map","a","item","catch","err"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,EAAoCC,SAApC,EAA+CC,UAA/C,EAA2DC,UAA3D,QAA4E,OAA5E;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,uBAA3B;AACA,OAAOC,YAAP,MAAyB,4BAAzB;;AAEA,SAASC,aAAT,GAAyB;AAErB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC;AAC/BU,IAAAA,MAAM,EAAEC,SADuB;AAE/BC,IAAAA,UAAU,EAAED;AAFmB,GAAD,CAAlC;AAMA,QAAM;AAACE,IAAAA;AAAD,MAAgBX,UAAU,CAACG,UAAD,CAAhC;;AAEA,WAASS,OAAT,GAAmB;AACfb,IAAAA,SAAS,CAAC,MAAMc,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAP,EAA+B,EAA/B,CAAT;AACA,WAAO,IAAP;AACD;;AAEHf,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMgB,GAAG,GAAG,+CAAZ;AACA,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BP,WAA5B;AACAT,IAAAA,KAAK,CAACiB,IAAN,CAAWJ,GAAX,EAAgBC,QAAhB,EAA0BI,IAA1B,CAAgCC,GAAD,IAAO;AAClCR,MAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACAd,MAAAA,QAAQ,CAAC;AAACC,QAAAA,MAAM,EAAEa,GAAG,CAACC,IAAJ,CAASC;AAAlB,OAAD,CAAR;AACH,KAHD,EAICH,IAJD,CAIM,MAAI;AACN,YAAMV,UAAU,GAACJ,KAAK,CAACE,MAAN,CAAagB,GAAb,CAAiBC,CAAC,KAAG;AAACC,QAAAA,IAAI,EAACD;AAAN,OAAH,CAAlB,CAAjB;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAYJ,UAAZ;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYR,KAAK,CAACE,MAAlB;AACAD,MAAAA,QAAQ,CAAC;AAACG,QAAAA,UAAU,EAACA;AAAZ,OAAD,CAAR;AACH,KATD,EAUCiB,KAVD,CAUQC,GAAD,IAAOf,OAAO,CAACC,GAAR,CAAYc,GAAZ,CAVd;AAWAf,IAAAA,OAAO,CAACC,GAAR,CAAYR,KAAK,CAACE,MAAlB;AAGH,GAlBQ,EAkBN,EAlBM,CAAT;AAoBA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI,oBAAC,YAAD;AAAc,IAAA,MAAM,EAAEF,KAAK,CAACI,UAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ;AAOH;;AAED,eAAeL,aAAf","sourcesContent":["import React, {Component, useState, useEffect, useContext, useReducer} from 'react';\nimport axios from 'axios';\nimport { AppContext } from '../context/AppContext';\nimport VidComponent from '../components/VidComponent'\n\nfunction MyProfilePage() {\n\n    const [state, setState] = useState({\n        myVids: undefined,\n        new_myVids: undefined\n\n    });\n\n    const {currentUser} = useContext(AppContext);\n\n    function Example() {\n        useEffect(() => console.log('mounted'), []);\n        return null;\n      }\n\n    useEffect(() => {\n        const url = 'http://localhost:80/react-backend/profile.php';\n        const formData = new FormData;\n        formData.append('uploader', currentUser);\n        axios.post(url, formData).then((res)=>{\n            console.log(res);\n            setState({myVids: res.data.video})\n        })\n        .then(()=>{\n            const new_myVids=state.myVids.map(a=>({item:a}));\n            console.log(new_myVids);\n            console.log(state.myVids);\n            setState({new_myVids:new_myVids})\n        })\n        .catch((err)=>console.log(err));\n        console.log(state.myVids);\n       \n\n    }, [])\n   \n    return(\n        <div>\n            <p>hahahah</p>\n            <VidComponent source={state.new_myVids}/>\n        </div>\n    );\n    \n}\n\nexport default MyProfilePage;"]},"metadata":{},"sourceType":"module"}