{"ast":null,"code":"var _jsxFileName = \"/Users/wentai/work space/wis/src/components/CommentInput.js\";\nimport React, { Component, useContext, useEffect, useState } from 'react';\nimport './CommentInput.css';\nimport { AppContext } from \"../context/AppContext\";\n\nfunction CommentInput(props) {\n  const [state, setState] = useState({\n    username: '',\n    content: ''\n  });\n  const user = useContext(AppContext).currentUser;\n  useEffect(() => {\n    setState({\n      username: user\n    });\n  }, []); //   handleUsernameChange (event) {\n  //     this.setState({\n  //       username: event.target.value\n  //     })\n  //   }\n\n  const handleContentChange = event => {\n    setState({\n      content: event.target.value\n    });\n  };\n\n  const handleSubmit = () => {\n    if (props.onSubmit) {\n      props.onSubmit({\n        username: state.username,\n        content: state.content\n      });\n    }\n\n    console.log(state.username);\n    setState({\n      content: ''\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"commentInput\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"comment-field\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"comment-field-name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Add Public Comments\\uFF1A\"), React.createElement(\"div\", {\n    className: \"comment-field-input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"textarea\", {\n    placeholder: \"Please leave your own comments here :)\",\n    value: state.content,\n    onChange: handleContentChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"comment-field-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"POST\")));\n}\n\nexport default CommentInput;","map":{"version":3,"sources":["/Users/wentai/work space/wis/src/components/CommentInput.js"],"names":["React","Component","useContext","useEffect","useState","AppContext","CommentInput","props","state","setState","username","content","user","currentUser","handleContentChange","event","target","value","handleSubmit","onSubmit","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,UAA1B,EAAsCC,SAAtC,EAAiDC,QAAjD,QAAgE,OAAhE;AACA,OAAO,oBAAP;AACA,SAAQC,UAAR,QAAyB,uBAAzB;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AACzB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAC9B;AACIM,IAAAA,QAAQ,EAAE,EADd;AAEIC,IAAAA,OAAO,EAAE;AAFb,GAD8B,CAAlC;AAOA,QAAMC,IAAI,GAAGV,UAAU,CAACG,UAAD,CAAV,CAAuBQ,WAApC;AAEAV,EAAAA,SAAS,CAAC,MAAI;AACVM,IAAAA,QAAQ,CAAC;AAACC,MAAAA,QAAQ,EAACE;AAAV,KAAD,CAAR;AACH,GAFQ,EAEP,EAFO,CAAT,CAVyB,CAczB;AACA;AACA;AACA;AACA;;AAEA,QAAME,mBAAmB,GAAIC,KAAD,IAAW;AACnCN,IAAAA,QAAQ,CAAC;AACLE,MAAAA,OAAO,EAAEI,KAAK,CAACC,MAAN,CAAaC;AADjB,KAAD,CAAR;AAGH,GAJD;;AAMA,QAAMC,YAAY,GAAG,MAAM;AACvB,QAAIX,KAAK,CAACY,QAAV,EAAoB;AAChBZ,MAAAA,KAAK,CAACY,QAAN,CAAe;AACXT,QAAAA,QAAQ,EAAEF,KAAK,CAACE,QADL;AAEXC,QAAAA,OAAO,EAAEH,KAAK,CAACG;AAFJ,OAAf;AAIH;;AACDS,IAAAA,OAAO,CAACC,GAAR,CAAYb,KAAK,CAACE,QAAlB;AACAD,IAAAA,QAAQ,CAAC;AAACE,MAAAA,OAAO,EAAE;AAAV,KAAD,CAAR;AACH,GATD;;AAYA,SACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,SAAS,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADJ,EAEI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACQ;AACI,IAAA,WAAW,EAAC,wCADhB;AAEI,IAAA,KAAK,EAAEH,KAAK,CAACG,OAFjB;AAGI,IAAA,QAAQ,EAAEG,mBAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADR,CAFJ,CADJ,EAWI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,OAAO,EAAEI,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,CAXJ,CADJ;AAmBH;;AAID,eAAeZ,YAAf","sourcesContent":["import React, {Component, useContext, useEffect, useState} from 'react';\nimport './CommentInput.css';\nimport {AppContext} from \"../context/AppContext\";\n\nfunction CommentInput(props) {\n    const [state, setState] = useState(\n        {\n            username: '',\n            content: ''\n        }\n    );\n\n    const user = useContext(AppContext).currentUser;\n\n    useEffect(()=>{\n        setState({username:user})\n    },[]);\n\n    //   handleUsernameChange (event) {\n    //     this.setState({\n    //       username: event.target.value\n    //     })\n    //   }\n\n    const handleContentChange = (event) => {\n        setState({\n            content: event.target.value\n        })\n    };\n\n    const handleSubmit = () => {\n        if (props.onSubmit) {\n            props.onSubmit({\n                username: state.username,\n                content: state.content\n            })\n        }\n        console.log(state.username);\n        setState({content: ''})\n    };\n\n\n    return (\n        <div className=\"commentInput\">\n            <div className='comment-field'>\n                <span className='comment-field-name'>Add Public Commentsï¼š</span>\n                <div className='comment-field-input'>\n                        <textarea\n                            placeholder=\"Please leave your own comments here :)\"\n                            value={state.content}\n                            onChange={handleContentChange}\n                        />\n                </div>\n            </div>\n            <div className='comment-field-button'>\n                <button onClick={handleSubmit}>\n                    POST\n                </button>\n            </div>\n        </div>\n    );\n}\n\n\n\nexport default CommentInput;"]},"metadata":{},"sourceType":"module"}